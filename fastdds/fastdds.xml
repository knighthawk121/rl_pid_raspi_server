<?xml version="1.0" encoding="UTF-8" ?>
<dds xmlns="http://www.eprosima.com/XMLSchemas/fastRTPS_Profiles">
    <profiles>
        <participant profile_name="default_profile" is_default_profile="true">
            <!-- Previous participant configuration remains the same -->
            
            <!-- Add data reader profile -->
            <data_reader profile_name="default_reader" is_default_profile="true">
                <historyMemoryPolicy>PREALLOCATED_WITH_REALLOC</historyMemoryPolicy>
                <qos>
                    <history>
                        <kind>KEEP_LAST</kind>
                        <depth>30</depth>
                    </history>
                    <resource_limits>
                        <max_samples>100</max_samples>
                        <max_instances>10</max_instances>
                        <max_samples_per_instance>10</max_samples_per_instance>
                        <!-- Set a larger payload size -->
                        <allocated_samples>100</allocated_samples>
                    </resource_limits>
                </qos>
            </data_reader>
            
            <rtps>
                <!-- Your existing RTPS configuration -->
            </rtps>
        </participant>
    </profiles>
</dds>